# 메타DB 엣지 0개 문제 해결방안 질의

## 📋 질의 정보
- **작성일시**: 2025년 1월 19일 19:00
- **질의자**: SourceAnalyzer AI Assistant
- **질의 주제**: 메타DB 엣지 0개 문제 해결방안
- **우선순위**: 높음 (핵심 기능 미작동)

## 🔍 문제 상황 요약

### 현재 상태
- **메타DB edges 테이블**: 0개 (목표: 117개)
- **수작업 분석**: 117개 관계 확인됨
- **메타DB 기타 테이블**: 정상 (classes: 16개, methods: 242개, files: 32개)

### 지침규정 위반 사항
1. **하드코딩 금지 규칙 위반**: `project_id = 1` 하드코딩
2. **에러 처리 규칙 위반**: 엣지 생성 실패 시 로그만 출력하고 계속 진행
3. **메타디비 스키마 확인 미흡**: 실제 스키마 조회 없이 예상으로 작업

## ❓ 구체적 질의 사항

### 1. 즉시 수정 우선순위
**Q1-1**: 다음 중 어떤 것부터 우선적으로 수정해야 할까요?
- A) `_create_edge()` 메서드에 `self.db_session.flush()` 추가
- B) 하드코딩된 `project_id = 1` 제거
- C) 에러 발생 시 `exit()` 호출 추가
- D) 의존성 분석 메서드들 실제 구현

**Q1-2**: 수정 순서는 어떻게 하는 것이 좋을까요?

### 2. 의존성 분석 로직 구현 방향
**Q2-1**: `_analyze_class_dependencies()` 메서드를 어떻게 구현해야 할까요?
- A) Java import 문 분석 기반
- B) 메서드 호출 패턴 분석 기반  
- C) 어노테이션 기반 의존성 분석
- D) 위 모든 방법 조합

**Q2-2**: 수작업 분석에서 확인된 117개 관계를 어떻게 자동으로 추출할 수 있을까요?
- Controller → Service 관계
- Service → Mapper 관계
- Mapper → Database 관계
- Model ↔ Database 관계
- JSP ← Controller 관계

### 3. 프로젝트 ID 동적 처리
**Q3-1**: 하드코딩된 `project_id = 1`을 어떻게 동적으로 처리해야 할까요?
- A) 현재 세션의 프로젝트 ID를 자동으로 가져오기
- B) 설정 파일에서 프로젝트 정보 읽기
- C) 메서드 파라미터로 전달받기
- D) 다른 방법

### 4. 에러 처리 개선 방향
**Q4-1**: 엣지 생성 실패 시 어떤 수준까지 중단해야 할까요?
- A) 개별 엣지 생성 실패 시 해당 엣지만 스킵
- B) 엣지 타입별 생성 실패 시 해당 타입 전체 스킵
- C) 엣지 생성 전체 실패 시 프로세스 중단
- D) 다른 정책

**Q4-2**: 에러 로그에 어떤 정보를 포함해야 할까요?

### 5. 검증 및 테스트 방안
**Q5-1**: 엣지 생성 로직 수정 후 어떻게 검증해야 할까요?
- A) 수작업 분석 결과와 비교
- B) 특정 관계 패턴별 검증
- C) 전체 관계 수량 검증
- D) 위 모든 방법

**Q5-2**: 테스트용 샘플 데이터는 어떻게 준비해야 할까요?

## 🎯 기대 효과

### 수정 완료 후 예상 결과
- **edges 테이블**: 0개 → 117개 (수작업 분석과 일치)
- **관계 분석 정확도**: 0% → 100%
- **지침규정 준수**: 위반 → 완전 준수

### 비즈니스 가치
- ERD 생성 기능 정상화
- 컴포넌트 관계 분석 가능
- 신규입사자 온보딩 지원 강화

## 📝 추가 고려사항

### 기술적 제약사항
- 오프라인 환경에서 동작해야 함
- 기업 내 무료 라이선스만 사용
- AutoCommitSession 사용 중

### 향후 확장성
- 다른 프로젝트에서도 동일하게 작동해야 함
- 다양한 언어 지원 확장 가능성
- 성능 최적화 고려

---

**답변 요청**: 위 질의사항들에 대한 구체적인 답변과 지침을 A_20250119_1900_메타DB_엣지_0개_문제_해결방안.md 파일로 작성해 주시기 바랍니다.
