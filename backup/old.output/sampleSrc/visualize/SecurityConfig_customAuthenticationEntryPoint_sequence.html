<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Source Analyzer - ÏãúÌÄÄÏä§ Îã§Ïù¥Ïñ¥Í∑∏Îû®</title>
    <link rel="stylesheet" href="./static/css/woori-brand-theme.css">
    <style>
        body, html { 
            margin: 0; 
            height: 100%; 
            font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--woori-ice);
        }
        
        .woori-header {
            background: var(--woori-gradient-header);
            color: var(--woori-text-on-primary);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--woori-shadow-medium);
        }
        
        .woori-logo {
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .header-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 600;
        }
        
        #toolbar { 
            padding: 16px 24px; 
            background: white;
            border-bottom: var(--woori-border-light);
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            box-shadow: 0 2px 4px rgba(25,118,210,0.08);
        }
        
        button {
            background: var(--woori-gradient-main);
            border: none;
            color: var(--woori-text-on-primary);
            padding: 10px 16px;
            border-radius: var(--woori-border-radius-small);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            box-shadow: var(--woori-shadow-light);
        }
        button:hover {
            background: var(--woori-primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--woori-shadow-medium);
        }
        
        #diagram-container { 
            width: 100%; 
            height: calc(100% - 120px);
            overflow: hidden;
            position: relative;
            background: white;
            border: 1px solid #e0e0e0;
            margin: 16px;
            border-radius: 8px;
        }
        
        #diagram {
            width: 100%;
            height: 100%;
            transform-origin: 0 0;
            transition: transform 0.3s ease;
        }
        
        .zoom-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 100;
        }
        
        .zoom-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--woori-primary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .zoom-btn:hover {
            background: var(--woori-primary-dark);
        }
        
        .stats {
            background: var(--woori-primary-pale);
            color: var(--woori-primary);
            padding: 10px 16px;
            border-radius: var(--woori-border-radius-small);
            font-size: 13px;
            font-weight: 500;
            border: 1px solid rgba(25,118,210,0.15);
        }
    </style>
    <script src="./static/vendor/cytoscape/cytoscape.min.js"></script>
    <script src="./static/vendor/dagre/dagre.min.js"></script>
    <script src="./static/vendor/cytoscape-dagre/cytoscape-dagre.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- Ìó§Îçî -->
    <header class="woori-header">
        <div class="header-title">
            <div class="woori-logo">Ïö∞</div>
            <span>Source Analyzer - ÏãúÌÄÄÏä§ Îã§Ïù¥Ïñ¥Í∑∏Îû®</span>
        </div>
        <div style="font-size: 14px; opacity: 0.9;">Enterprise Solution</div>
    </header>
    
    <div id="toolbar">
        <button onclick="resetZoom()" title="ÌôîÎ©¥Ïóê ÎßûÏ∂îÍ∏∞">üîç ÌôîÎ©¥ÎßûÏ∂§</button>
        <button onclick="exportPng()" title="PNGÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞">üì∑ PNG Ï†ÄÏû•</button>
        <button onclick="switchLayout()" title="Î†àÏù¥ÏïÑÏõÉ Î≥ÄÍ≤Ω">üîÑ Î†àÏù¥ÏïÑÏõÉ</button>
        <div class="stats" id="stats">
            ÎÖ∏Îìú: <span id="node-count">0</span> | 
            Î©îÏãúÏßÄ: <span id="edge-count">0</span>
        </div>
    </div>
    
    <div id="diagram-container">
        <div class="zoom-controls">
            <button class="zoom-btn" onclick="zoomIn()" title="ÌôïÎåÄ">+</button>
            <button class="zoom-btn" onclick="zoomOut()" title="Ï∂ïÏÜå">‚àí</button>
        </div>
        <div id="diagram"></div>
    </div>

    <script>
        const DATA = {
  "nodes": [
    {
      "id": "method:7",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:109",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:211",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:313",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:415",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:517",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "group": "control",
      "meta": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    }
  ],
  "edges": [
    {
      "id": "seq_edge_0",
      "source": "method:7",
      "target": "method:109",
      "kind": "inferred_sequence",
      "confidence": 0.1,
      "meta": {
        "sequence_order": 0,
        "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
        "unresolved": true
      }
    },
    {
      "id": "seq_edge_1",
      "source": "method:109",
      "target": "method:211",
      "kind": "inferred_sequence",
      "confidence": 0.1,
      "meta": {
        "sequence_order": 1,
        "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
        "unresolved": true
      }
    },
    {
      "id": "seq_edge_2",
      "source": "method:211",
      "target": "method:313",
      "kind": "inferred_sequence",
      "confidence": 0.1,
      "meta": {
        "sequence_order": 2,
        "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
        "unresolved": true
      }
    },
    {
      "id": "seq_edge_3",
      "source": "method:313",
      "target": "method:415",
      "kind": "inferred_sequence",
      "confidence": 0.1,
      "meta": {
        "sequence_order": 3,
        "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
        "unresolved": true
      }
    },
    {
      "id": "seq_edge_4",
      "source": "method:415",
      "target": "method:517",
      "kind": "inferred_sequence",
      "confidence": 0.1,
      "meta": {
        "sequence_order": 4,
        "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
        "unresolved": true
      }
    }
  ],
  "metadata": {
    "node_count": 6,
    "edge_count": 5,
    "node_types": [
      "method"
    ],
    "edge_kinds": [
      "inferred_sequence"
    ]
  },
  "mermaid": "sequenceDiagram\n    participant method_7 as customAuthenticationEntryPoint()\n    participant method_109 as customAuthenticationEntryPoint()\n    participant method_211 as customAuthenticationEntryPoint()\n    participant method_313 as customAuthenticationEntryPoint()\n    participant method_415 as customAuthenticationEntryPoint()\n    participant method_517 as customAuthenticationEntryPoint()\n\n    method_7-->>>method_109: inferred_sequence_to: customAuthenticationEntryPoint() (conf: 0.10)\n    Note over method_109: Unresolved call\n    method_109-->>>method_211: inferred_sequence_to: customAuthenticationEntryPoint() (conf: 0.10)\n    Note over method_211: Unresolved call\n    method_211-->>>method_313: inferred_sequence_to: customAuthenticationEntryPoint() (conf: 0.10)\n    Note over method_313: Unresolved call\n    method_313-->>>method_415: inferred_sequence_to: customAuthenticationEntryPoint() (conf: 0.10)\n    Note over method_415: Unresolved call\n    method_415-->>>method_517: inferred_sequence_to: customAuthenticationEntryPoint() (conf: 0.10)\n    Note over method_517: Unresolved call",
  "type": "sequence_diagram",
  "participants": [
    {
      "id": "method:7",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 0,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:109",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 1,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:211",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 2,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:313",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 3,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:415",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 4,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    },
    {
      "id": "method:517",
      "type": "method",
      "label": "customAuthenticationEntryPoint()",
      "actor_type": "control",
      "order": 5,
      "details": {
        "name": "customAuthenticationEntryPoint",
        "signature": "customAuthenticationEntryPoint()",
        "class": "com.example.config.SecurityConfig",
        "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
        "line": 70,
        "llm_summary": null
      }
    }
  ],
  "interactions": [
    {
      "id": "interaction_inferred_0",
      "sequence_order": 0,
      "type": "synchronous",
      "from_participant": "method:7",
      "to_participant": "method:109",
      "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
      "confidence": 0.1,
      "unresolved": true,
      "depth": 0,
      "style": "dashed",
      "meta": {
        "edge_kind": "inferred_sequence",
        "caller_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        },
        "target_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        }
      }
    },
    {
      "id": "interaction_inferred_1",
      "sequence_order": 1,
      "type": "synchronous",
      "from_participant": "method:109",
      "to_participant": "method:211",
      "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
      "confidence": 0.1,
      "unresolved": true,
      "depth": 0,
      "style": "dashed",
      "meta": {
        "edge_kind": "inferred_sequence",
        "caller_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        },
        "target_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        }
      }
    },
    {
      "id": "interaction_inferred_2",
      "sequence_order": 2,
      "type": "synchronous",
      "from_participant": "method:211",
      "to_participant": "method:313",
      "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
      "confidence": 0.1,
      "unresolved": true,
      "depth": 0,
      "style": "dashed",
      "meta": {
        "edge_kind": "inferred_sequence",
        "caller_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        },
        "target_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        }
      }
    },
    {
      "id": "interaction_inferred_3",
      "sequence_order": 3,
      "type": "synchronous",
      "from_participant": "method:313",
      "to_participant": "method:415",
      "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
      "confidence": 0.1,
      "unresolved": true,
      "depth": 0,
      "style": "dashed",
      "meta": {
        "edge_kind": "inferred_sequence",
        "caller_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        },
        "target_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        }
      }
    },
    {
      "id": "interaction_inferred_4",
      "sequence_order": 4,
      "type": "synchronous",
      "from_participant": "method:415",
      "to_participant": "method:517",
      "message": "inferred_sequence_to: customAuthenticationEntryPoint()",
      "confidence": 0.1,
      "unresolved": true,
      "depth": 0,
      "style": "dashed",
      "meta": {
        "edge_kind": "inferred_sequence",
        "caller_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        },
        "target_details": {
          "name": "customAuthenticationEntryPoint",
          "signature": "customAuthenticationEntryPoint()",
          "class": "com.example.config.SecurityConfig",
          "file": "E:\\SourceAnalyzer.git\\project\\sampleSrc\\src\\main\\java\\com\\example\\config\\SecurityConfig.java",
          "line": 70,
          "llm_summary": null
        }
      }
    }
  ]
};
        let currentZoom = 1;
        let currentLayout = 'dagre';
        let cy;

        // Cytoscape Ïä§ÌÉÄÏùºÍ≥º Î†àÏù¥ÏïÑÏõÉ Ï¥àÍ∏∞Ìôî
        function initCytoscape() {
            if (!DATA.nodes || !DATA.edges) {
                // Fallback to Mermaid if no graph data
                initMermaid();
                return;
            }

            const elements = [];
            
            // ÎÖ∏Îìú Ï∂îÍ∞Ä
            for (const node of DATA.nodes || []) {
                elements.push({
                    data: {
                        id: node.id,
                        label: node.label,
                        type: node.type
                    }
                });
            }
            
            // Ïó£ÏßÄ Ï∂îÍ∞Ä
            for (const edge of DATA.edges || []) {
                elements.push({
                    data: {
                        id: edge.id,
                        source: edge.source,
                        target: edge.target,
                        label: edge.meta?.message || ''
                    }
                });
            }

            cy = cytoscape({
                container: document.getElementById('diagram'),
                elements: elements,
                style: [
                    {
                        selector: 'node',
                        style: {
                            'label': 'data(label)',
                            'font-size': '12px',
                            'text-wrap': 'wrap',
                            'text-max-width': '120px',
                            'text-valign': 'center',
                            'text-halign': 'center',
                            'background-color': '#e3f2fd',
                            'border-width': 2,
                            'border-color': '#1976d2',
                            'width': 'mapData(label.length, 10, 50, 80, 200)',
                            'height': '60px',
                            'shape': 'round-rectangle'
                        }
                    },
                    {
                        selector: 'edge',
                        style: {
                            'curve-style': 'bezier',
                            'width': 2,
                            'line-color': '#1976d2',
                            'target-arrow-shape': 'triangle',
                            'target-arrow-color': '#1976d2',
                            'label': 'data(label)',
                            'font-size': '10px',
                            'text-rotation': 'autorotate',
                            'color': '#333'
                        }
                    }
                ],
                layout: {
                    name: 'dagre',
                    rankDir: 'TB',
                    animate: true,
                    animationDuration: 500
                }
            });

            // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('node-count').textContent = DATA.nodes?.length || 0;
            document.getElementById('edge-count').textContent = DATA.edges?.length || 0;
        }

        // Mermaid Ï¥àÍ∏∞Ìôî (Î∞±ÏóÖÏö©)
        function initMermaid() {
            const diagramElement = document.getElementById('diagram');
            if (DATA.mermaid) {
                diagramElement.innerHTML = '<div class="mermaid">' + DATA.mermaid + '</div>';
                mermaid.initialize({ 
                    startOnLoad: true,
                    theme: 'default',
                    sequence: {
                        diagramMarginX: 50,
                        diagramMarginY: 50,
                        actorMargin: 50,
                        width: 150,
                        height: 65,
                        boxMargin: 10,
                        boxTextMargin: 5,
                        noteMargin: 10,
                        messageMargin: 35,
                        mirrorActors: false,
                        bottomMarginAdj: 1,
                        useMaxWidth: true
                    }
                });
                mermaid.run();
            }
        }

        function zoomIn() {
            if (cy) {
                cy.zoom(cy.zoom() * 1.2);
                cy.center();
            } else {
                currentZoom *= 1.2;
                const diagram = document.getElementById('diagram');
                diagram.style.transform = `scale(${currentZoom})`;
            }
        }

        function zoomOut() {
            if (cy) {
                cy.zoom(cy.zoom() * 0.8);
                cy.center();
            } else {
                currentZoom *= 0.8;
                const diagram = document.getElementById('diagram');
                diagram.style.transform = `scale(${currentZoom})`;
            }
        }

        function resetZoom() {
            if (cy) {
                cy.fit();
            } else {
                currentZoom = 1;
                const diagram = document.getElementById('diagram');
                diagram.style.transform = `scale(${currentZoom})`;
            }
        }

        function switchLayout() {
            if (!cy) return;
            
            currentLayout = currentLayout === 'dagre' ? 'breadthfirst' : 'dagre';
            const layoutConfig = currentLayout === 'dagre' ? 
                { name: 'dagre', rankDir: 'TB', animate: true, animationDuration: 500 } :
                { name: 'breadthfirst', directed: true, animate: true, animationDuration: 500 };
                
            cy.layout(layoutConfig).run();
        }

        function exportPng() {
            if (cy) {
                const png64 = cy.png({ 
                    full: true, 
                    scale: 2,
                    bg: 'white'
                });
                const link = document.createElement('a');
                link.href = png64;
                link.download = 'sequence-diagram.png';
                link.click();
            } else {
                // Mermaid PNG export fallback
                const diagram = document.getElementById('diagram');
                html2canvas(diagram).then(canvas => {
                    const link = document.createElement('a');
                    link.href = canvas.toDataURL();
                    link.download = 'sequence-diagram.png';
                    link.click();
                });
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            initCytoscape();
        });
    </script>
</body>
</html>