# 샘플소스 명세서 검증 시스템

## 개요
이 시스템은 샘플소스 명세서의 기준값과 메타디비에서 산출된 결과를 비교하여 파서의 정확도를 검증합니다.

## 파일 구성
- `specification_verification.py`: 메인 검증 스크립트
- `run_verification.bat`: Windows 배치 실행 파일
- `README.md`: 사용법 설명서

## 사용법

### 1. 메타디비 생성
먼저 샘플소스를 파싱하여 메타디비를 생성해야 합니다.

```bash
cd phase1
python main.py --project-name sampleSrc
```

### 2. 검증 실행

#### Windows에서 실행
```bash
cd phase1/temp/verification
run_verification.bat
```

#### Python으로 직접 실행
```bash
cd phase1
python temp/verification/specification_verification.py --project-name sampleSrc
```

## 검증 기준

### 명세서 기준값
- **클래스**: 2개 (UserController, ErrorController)
- **메소드**: 8개 (정상 2개 + 오류 6개)
- **SQL 쿼리**: 15개 (DDL 5개 + DML 10개)
- **JSP 태그**: 16개 (정상 8개 + 오류 8개)
- **신택스 오류**: 15개 (Java 8개 + JSP 4개 + SQL 3개)

### 허용 오차 범위
- **클래스**: 2-3개 (과소추출 금지, 과다추출 1개까지 허용)
- **메소드**: 8-9개 (과소추출 금지, 과다추출 1개까지 허용)
- **SQL 쿼리**: 15-17개 (과소추출 금지, 과다추출 2개까지 허용)
- **JSP 태그**: 16-18개 (과소추출 금지, 과다추출 2개까지 허용)
- **신택스 오류**: 정확히 15개 (100% 감지 필요)

### 검증 성공 기준
1. **과소추출**: 0% (누락 없음)
2. **과다추출**: 10% 이내 허용
3. **파일별 오차**: 10% 이내
4. **오류 감지**: 100% (모든 신택스 오류 감지)

## 출력 결과

### 콘솔 출력
```
=== sampleSrc 프로젝트 검증 시작 ===
메타디비에서 데이터 로드 중...
정확도 검증 수행 중...
classes: 메타디비=2, 명세서=2, 상태=정상
methods: 메타디비=8, 명세서=8, 상태=정상
sql_queries: 메타디비=15, 명세서=15, 상태=정상
jsp_tags: 메타디비=16, 명세서=16, 상태=정상
syntax_errors: 메타디비=15, 명세서=15, 상태=정상

=== 검증 완료 ===
통과율: 100.0% (5/5)
🎉 모든 검증 기준을 통과했습니다!
```

### 리포트 파일
검증 결과는 `../Dev.Report/검증결과_{프로젝트명}_{타임스탬프}.md` 파일로 저장됩니다.

## 오류 처리

### 일반적인 오류
1. **메타디비 파일 없음**: 먼저 `python main.py --project-name sampleSrc` 실행
2. **Python 모듈 오류**: 필요한 패키지 설치 확인
3. **경로 오류**: 올바른 디렉토리에서 실행 확인

### 검증 실패 시 조치
1. **과소추출**: 파서 패턴 개선 필요
2. **과다추출**: 파서 필터링 강화 필요
3. **오류 감지 실패**: 오류 처리 로직 개선 필요

## 개발자 정보
- **목적**: 파서 정확도 검증
- **기술**: Python, SQLite, Markdown
- **버전**: 1.0.0
- **생성일**: 2025-09-05



