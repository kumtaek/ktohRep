# 전체 관계 유형별 수작업 vs 자동화 분석 비교표

## 개요
**분석 일시**: 2025-01-27  
**분석 대상**: sampleSrc 프로젝트  
**목적**: 모든 관계 유형에 대한 수작업 분석과 자동화 분석 결과 종합 비교

## 📊 수작업 분석 결과 (기준값)

### 수작업 분석 기본 정보
- **분석 방법**: 파일별 수동 코드 분석
- **분석 범위**: 16개 Java 파일
- **총 관계 수**: 117개

### 수작업 분석 상세 내역
| 관계 유형 | 수작업 분석 | 비고 |
|-----------|-------------|------|
| **calls** | **112개** | 메서드 호출 관계 |
| **dependency** | **5개** | @Autowired 의존성 주입 |
| **imports** | **0개** | import 관계 (분석 제외) |
| **foreign_key** | **0개** | DB 관계 (분석 제외) |
| **implements** | **0개** | 인터페이스 구현 (분석 제외) |
| **extends** | **0개** | 상속 관계 (분석 제외) |
| **총계** | **117개** | **전체 관계** |

## 🔄 자동화 분석 결과 (현재 상태)

### 자동화 분석 기본 정보
- **분석 방법**: optimized_java_parser.py 자동 분석
- **분석 범위**: 16개 Java 파일
- **총 관계 수**: 961개

### 자동화 분석 상세 내역
| 관계 유형 | 자동화 분석 | 수작업 대비 | 초과율 | 상태 |
|-----------|-------------|-------------|--------|------|
| **calls** | **417개** | **+305개** | **372%** | **과다 집계** |
| **dependency** | **249개** | **+244개** | **4,880%** | **극도 과다** |
| **imports** | **221개** | **+221개** | **∞** | **새로 추가** |
| **foreign_key** | **52개** | **+52개** | **∞** | **새로 추가** |
| **implements** | **22개** | **+22개** | **∞** | **새로 추가** |
| **extends** | **0개** | **0개** | **0%** | **일치** |
| **총계** | **961개** | **+844개** | **721%** | **전체 과다** |

## 📈 관계 유형별 상세 분석

### 1. calls 관계 분석
| 분석 단계 | calls 관계 수 | 수작업 대비 | 초과율 | 개선 상태 |
|-----------|---------------|-------------|--------|-----------|
| **수작업 분석** | **112개** | **기준** | **0%** | **목표** |
| 초기 자동화 | 632개 | +520개 | 564% | 과다 집계 |
| 노이즈 제거 | 494개 | +382개 | 441% | 개선 중 |
| 중복 제거 | 386개 | +274개 | 344% | 상당한 개선 |
| **패턴 추론 비활성화** | **417개** | **+305개** | **372%** | **현재 상태** |

**calls 관계 개선 효과**: 34% 감소 (632개 → 417개)

### 2. dependency 관계 분석
| 분석 단계 | dependency 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|-------------------|-------------|--------|------|
| **수작업 분석** | **5개** | **기준** | **0%** | **목표** |
| **자동화 분석** | **249개** | **+244개** | **4,880%** | **극도 과다** |

**dependency 관계 문제점**: 수작업 대비 4,880% 초과 (극도 과다)

### 3. imports 관계 분석
| 분석 단계 | imports 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|-----------------|-------------|--------|------|
| **수작업 분석** | **0개** | **기준** | **0%** | **분석 제외** |
| **자동화 분석** | **221개** | **+221개** | **∞** | **새로 추가** |

**imports 관계 특징**: 수작업에서 분석 제외, 자동화에서 221개 생성

### 4. foreign_key 관계 분석
| 분석 단계 | foreign_key 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|---------------------|-------------|--------|------|
| **수작업 분석** | **0개** | **기준** | **0%** | **분석 제외** |
| **자동화 분석** | **52개** | **+52개** | **∞** | **새로 추가** |

**foreign_key 관계 특징**: 수작업에서 분석 제외, 자동화에서 52개 생성

### 5. implements 관계 분석
| 분석 단계 | implements 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|-------------------|-------------|--------|------|
| **수작업 분석** | **0개** | **기준** | **0%** | **분석 제외** |
| **자동화 분석** | **22개** | **+22개** | **∞** | **새로 추가** |

**implements 관계 특징**: 수작업에서 분석 제외, 자동화에서 22개 생성

## 🎯 정확도 분석

### 전체 정확도 평가
| 관계 유형 | 수작업 | 자동화 | 정확도 | 상태 |
|-----------|--------|--------|--------|------|
| **calls** | 112개 | 417개 | 27% | **낮음** |
| **dependency** | 5개 | 249개 | 2% | **매우 낮음** |
| **imports** | 0개 | 221개 | 0% | **분석 범위 차이** |
| **foreign_key** | 0개 | 52개 | 0% | **분석 범위 차이** |
| **implements** | 0개 | 22개 | 0% | **분석 범위 차이** |
| **전체** | 117개 | 961개 | 12% | **매우 낮음** |

### 분석 범위 차이
| 관계 유형 | 수작업 분석 범위 | 자동화 분석 범위 | 차이점 |
|-----------|------------------|------------------|--------|
| **calls** | ✅ 포함 | ✅ 포함 | **분석 범위 일치** |
| **dependency** | ✅ 포함 | ✅ 포함 | **분석 범위 일치** |
| **imports** | ❌ 제외 | ✅ 포함 | **분석 범위 차이** |
| **foreign_key** | ❌ 제외 | ✅ 포함 | **분석 범위 차이** |
| **implements** | ❌ 제외 | ✅ 포함 | **분석 범위 차이** |

## 📋 개선 우선순위

### 1순위: calls 관계 개선
- **현재 상태**: 417개 (수작업 대비 372% 초과)
- **목표**: 112개 (수작업과 일치)
- **개선 필요량**: 305개 감소
- **개선 방안**: 더 엄격한 필터링, 신뢰도 기반 필터링

### 2순위: dependency 관계 개선
- **현재 상태**: 249개 (수작업 대비 4,880% 초과)
- **목표**: 5개 (수작업과 일치)
- **개선 필요량**: 244개 감소
- **개선 방안**: @Autowired 패턴 정교화, 중복 제거

### 3순위: 분석 범위 통일
- **imports**: 221개 → 0개 (수작업 기준)
- **foreign_key**: 52개 → 0개 (수작업 기준)
- **implements**: 22개 → 0개 (수작업 기준)

## 🔍 상세 문제점 분석

### calls 관계 문제점
1. **여전한 과다 집계**: 372% 초과
2. **노이즈 관계**: getter/setter, 유틸리티 메서드 포함
3. **중복 관계**: 동일한 메서드 호출 중복 생성
4. **신뢰도 문제**: confidence 0.8 이하 관계 포함

### dependency 관계 문제점
1. **극도 과다 집계**: 4,880% 초과
2. **패턴 기반 추론**: @Autowired 패턴만으로 관계 생성
3. **중복 생성**: 동일한 의존성 관계 중복
4. **컨텍스트 무시**: 실제 사용 여부 무시

### 분석 범위 차이 문제점
1. **imports 관계**: 수작업에서 분석 제외, 자동화에서 221개 생성
2. **foreign_key 관계**: 수작업에서 분석 제외, 자동화에서 52개 생성
3. **implements 관계**: 수작업에서 분석 제외, 자동화에서 22개 생성

## 📊 최종 비교 요약

### 전체 관계 수 비교
| 구분 | 수작업 분석 | 자동화 분석 | 차이 | 초과율 |
|------|-------------|-------------|------|--------|
| **총 관계 수** | **117개** | **961개** | **+844개** | **721%** |
| **분석 범위 일치** | **117개** | **666개** | **+549개** | **469%** |
| **분석 범위 차이** | **0개** | **295개** | **+295개** | **∞** |

### 분석 범위 일치 관계만 비교
| 관계 유형 | 수작업 | 자동화 | 차이 | 초과율 |
|-----------|--------|--------|------|--------|
| **calls** | 112개 | 417개 | +305개 | 372% |
| **dependency** | 5개 | 249개 | +244개 | 4,880% |
| **총계** | 117개 | 666개 | +549개 | 469% |

## 🎯 결론 및 권장사항

### 현재 상태
- **전체 정확도**: 12% (매우 낮음)
- **분석 범위 일치 정확도**: 18% (낮음)
- **주요 문제**: calls, dependency 관계 과다 집계

### 권장 개선 방안
1. **calls 관계**: 417개 → 112개 (305개 감소)
2. **dependency 관계**: 249개 → 5개 (244개 감소)
3. **분석 범위 통일**: imports, foreign_key, implements 관계 제외
4. **신뢰도 기반 필터링**: confidence 0.9 이상만 유지

### 최종 목표
- **총 관계 수**: 117개 (수작업과 일치)
- **calls 관계**: 112개 (수작업과 일치)
- **dependency 관계**: 5개 (수작업과 일치)
- **정확도**: 100% (완벽한 일치)

---

**보고서 생성일시**: 2025-01-27  
**분석 대상**: sampleSrc 프로젝트  
**총 분석 시간**: 0.75초  
**메타DB 크기**: 396.0KB
