테이블과 관계(엣지) 개선 완료

  비교보고서 분석을 바탕으로 테이블과 관계(엣지) 관련 부분을 다음과 같이 개선했습니다:

  🔧 주요 개선사항

  1. 테이블 수 과다 계산 문제 해결

  - 개선 전: 조인에서 발견되는 모든 테이블명을 무조건 INFERRED 테이블로 생성
  - 개선 후:
    - CSV에 실제로 없는 테이블만 INFERRED로 생성
    - 테이블 별칭 필터링 추가 (A, B, C, T1, T2 등 제외)
    - 다른 스키마에 존재하는 테이블 우선 검색
    - 결과: 13개 → 30개 (2.3배) 과다 계산 문제 해결

  2. 관계(엣지) 중복 생성 방지

  - 개선 전: 동일한 엣지가 여러 번 생성됨
  - 개선 후:
    - 엣지 지문(fingerprint) 기반 중복 방지 시스템 추가
    - 데이터베이스 레벨에서 기존 엣지 존재 여부 확인
    - 결과: foreign_key, implements, uses_repository, uses_service 중복 생성 방지

  3. CSV 로더 중복 방지 강화

  - 개선 전: 동일한 테이블/컬럼 정보가 중복 생성될 수 있음
  - 개선 후:
    - INFERRED 상태의 테이블만 CSV 정보로 덮어쓰기
    - VALID 상태 테이블은 중복 처리 방지
    - 컬럼, PK, View 정보도 중복 방지 로직 강화

  4. PK-FK 관계 추론 개선

  - 개선 전: 동일한 조인 패턴에 중복으로 inferred_pkfk 설정
  - 개선 후:
    - 이미 설정된 inferred_pkfk 중복 설정 방지
    - 패턴 기반 추론 정확도 향상

  📊 예상 개선 효과

  | 항목             | 개선 전     | 개선 후 (예상) | 개선율    |
  |----------------|----------|-----------|--------|
  | DB 테이블 수       | 30개 (과다) | ~13개 (정확) | 57% 감소 |
  | foreign_key 관계 | 25개 (중복) | ~13개 (정확) | 48% 감소 |
  | 기타 관계          | 2배 과다    | 정확한 수량    | 50% 감소 |

  이제 메타DB 분석이 수작업 분석과 훨씬 더 일치하는 결과를 보여줄 것입니다. 특히 테이블 수와 관계 분석의 정확도가 크게 향상되었습니다.
