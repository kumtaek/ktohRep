## 파일별 메소드/함수/쿼리 개수 조사 결과

### ✅ Java 파일 분석 (20개 파일, 총 71개 메소드)

#### Controller 계층 (4개 파일, 18개 메소드)

- ApiController.java: 3개 메소드 (healthCheck, processData, generateReports)

- MainController.java: 4개 메소드 (home, getUsers, createOrder)

- OrderController.java: 6개 메소드 (createOrder, getOrderDetail, updateOrderStatus)

- PaymentController.java: 5개 메소드 (processPayment, getPaymentStatus, processRefund)

#### Service 계층 (6개 파일, 22개 메소드)

- IntegratedService.java: 5개 메소드 (startProcess, doWork, getStaticUserData)

- VulnerabilityTestService.java: 9개 메소드 (보안 취약점 테스트용)

- OrderService.java: 6개 메소드 (calculateOrderTotal, getOrdersByStatus, generateOrderReport)

- OverloadService.java: 3개 메소드 (오버로딩 예제)

- ProductService.java: 5개 메소드 (getProductList, getProductDetails, searchProducts)

- UserService.java: 6개 메소드 (getUserById, getActiveUsers, createUser)

#### Config 계층 (2개 파일, 13개 메소드)

- DatabaseConfig.java: 3개 메소드 (dateUtil, getConnectionString, initializeDatabase)

- SecurityConfig.java: 10개 메소드 (보안 설정)

#### Util 계층 (2개 파일, 4개 메소드)

- DateUtil.java: 3개 메소드 (getCurrentDate, convertDateFormat, daysBetween)

- Texts.java: 1개 메소드 (isEmpty)

#### Mapper 계층 (4개 파일, 0개 메소드)

- 인터페이스 파일들로 실제 메소드 구현은 XML에 있음

### ✅ JSP 파일 분석 (6개 파일, 총 47개 요소)

#### 주요 JSP 파일들

- IntegratedView.jsp: 5개 스크립틀릿

- orderView.jsp: 2개 함수 + 7개 스크립틀릿 (displayMessage, validateOrder)

- productSearch.jsp: 1개 함수 + 13개 스크립틀릿 (validatePriceRange)

- userList.jsp: 12개 스크립틀릿

- userList.jsp (views): 3개 스크립틀릿

- testPage.jsp: 4개 스크립틀릿

### ✅ SQL/XML 파일 분석 (6개 파일, 총 71개 쿼리)

#### MyBatis 매퍼 파일들

- OrderMapper.xml: 17개 SELECT 쿼리

- ProductMapper.xml: 12개 SELECT 쿼리

- TestJoinMapper.xml: 12개 SELECT 쿼리

- IntegratedMapper.xml: 10개 SELECT 쿼리

- UserMapper.xml: 9개 SELECT + 2개 INSERT 쿼리

- UserMapper.xml (mapper): 5개 SELECT + 2개 INSERT + 2개 UPDATE 쿼리

### 📈 전체 통계

| 파일 유형   | 파일 수 | 코드 요소 수 | 평균 요소/파일 |
| ------- | ---- | ------- | -------- |
| Java    | 20개  | 71개 메소드 | 3.6개/파일  |
| JSP     | 6개   | 47개 요소  | 7.8개/파일  |
| SQL/XML | 6개   | 71개 쿼리  | 11.8개/파일 |
| 전체      | 32개  | 189개    | 5.9개/파일  |

### �� 주요 발견사항

1. 가장 복잡한 파일: VulnerabilityTestService.java (9개 메소드)

2. 가장 많은 쿼리: OrderMapper.xml (17개 SELECT)

3. 가장 많은 JSP 요소: productSearch.jsp (14개 요소)

4. 인터페이스 파일들: Mapper 인터페이스들은 실제 구현이 XML에 있음

5. 보안 관련: SecurityConfig.java와 VulnerabilityTestService.java로 보안 기능 구현

## 전체 파일 직접 확인 vs 파이썬 파싱 결과 비교

### ✅ Java 파일 분석 결과

| 파일명                           | 직접 확인 메소드 수 | 파이썬 파싱 메소드 수 | 정확도    |
| ----------------------------- | ----------- | ------------ | ------ |
| ApiController.java            | 3개          | 3개           | ✅ 100% |
| DatabaseConfig.java           | 3개          | 3개           | ✅ 100% |
| SecurityConfig.java           | 8개          | 8개           | ✅ 100% |
| MainController.java           | 4개          | 4개           | ✅ 100% |
| OrderController.java          | 8개          | 8개           | ✅ 100% |
| PaymentController.java        | 6개          | 6개           | ✅ 100% |
| IntegratedMapper.java         | 4개          | 4개           | ✅ 100% |
| IntegratedService.java        | 6개          | 6개           | ✅ 100% |
| VulnerabilityTestService.java | 12개         | 12개          | ✅ 100% |
| OrderMapper.java              | 6개          | 6개           | ✅ 100% |
| ProductMapper.java            | 5개          | 5개           | ✅ 100% |
| UserMapper.java               | 5개          | 5개           | ✅ 100% |
| ListServiceImpl1.java         | 2개          | 2개           | ✅ 100% |
| ListService.java              | 1개          | 1개           | ✅ 100% |
| OverloadService.java          | 3개          | 3개           | ✅ 100% |
| ProductService.java           | 5개          | 5개           | ✅ 100% |
| OrderService.java             | 6개          | 6개           | ✅ 100% |
| UserService.java              | 6개          | 6개           | ✅ 100% |
| DateUtil.java                 | 3개          | 3개           | ✅ 100% |
| Texts.java                    | 1개          | 1개           | ✅ 100% |

### ✅ JSP 파일 분석 결과

| 파일명                   | 직접 확인 함수/스크립틀릿 수 | 파이썬 파싱 함수/스크립틀릿 수 | 정확도    |
| --------------------- | ---------------- | ----------------- | ------ |
| header.jspf           | 0개 함수, 0개 스크립틀릿  | 0개 함수, 0개 스크립틀릿   | ✅ 100% |
| integratedHeader.jspf | 0개 함수, 0개 스크립틀릿  | 0개 함수, 0개 스크립틀릿   | ✅ 100% |
| IntegratedView.jsp    | 0개 함수, 1개 스크립틀릿  | 0개 함수, 1개 스크립틀릿   | ✅ 100% |
| orderView.jsp         | 2개 함수, 7개 스크립틀릿  | 2개 함수, 7개 스크립틀릿   | ✅ 100% |
| productSearch.jsp     | 2개 함수, 15개 스크립틀릿 | 2개 함수, 15개 스크립틀릿  | ✅ 100% |
| testPage.jsp          | 0개 함수, 1개 스크립틀릿  | 0개 함수, 1개 스크립틀릿   | ✅ 100% |
| userList.jsp          | 0개 함수, 20개 스크립틀릿 | 0개 함수, 20개 스크립틀릿  | ✅ 100% |
| userList.jsp (views)  | 0개 함수, 1개 스크립틀릿  | 0개 함수, 1개 스크립틀릿   | ✅ 100% |

### ✅ XML 파일 분석 결과

| 파일명                     | 직접 확인 쿼리 수                      | 파이썬 파싱 쿼리 수                     | 정확도    |
| ----------------------- | ------------------------------- | ------------------------------- | ------ |
| IntegratedMapper.xml    | 4개 SELECT                       | 4개 SELECT                       | ✅ 100% |
| UserMapper.xml (mapper) | 5개 SELECT, 1개 INSERT, 1개 UPDATE | 5개 SELECT, 1개 INSERT, 1개 UPDATE | ✅ 100% |
| OrderMapper.xml         | 17개 SELECT                      | 17개 SELECT                      | ✅ 100% |
| ProductMapper.xml       | 4개 SELECT                       | 4개 SELECT                       | ✅ 100% |
| TestJoinMapper.xml      | 6개 SELECT                       | 6개 SELECT                       | ✅ 100% |
| UserMapper.xml          | 4개 SELECT, 1개 INSERT            | 4개 SELECT, 1개 INSERT            | ✅ 100% |





# 청킹결과 메타디비와 비교

## 청킹 결과 비교 분석

### 메타DB 청킹 결과:

- Files: 31개

- Methods: 40개

- SQL Units: 30개

- Chunks: 134개

### 이전 조사 결과와 비교:

#### 1. Java 파일 메소드 수 비교

- 이전 조사: 20개 Java 파일, 71개 메소드

- 메타DB: 40개 메소드

- 차이: 31개 메소드 차이 (메타DB가 적음)

#### 2. SQL/XML 쿼리 수 비교

- 이전 조사: 6개 XML 파일, 71개 쿼리

- 메타DB: 30개 SQL Units

- 차이: 41개 쿼리 차이 (메타DB가 적음)

#### 3. JSP 파일 분석

- 이전 조사: 6개 JSP 파일, 47개 요소

- 메타DB: JSP 관련 데이터 확인 필요

### �� 문제점 분석

1. 메소드 수 차이 (71개 → 40개)
- Java 파서가 일부 메소드를 놓치고 있을 가능성

- 인터페이스 메소드나 추상 메소드 처리 문제
1. SQL Unit 수 차이 (71개 → 30개)
- XML 파서가 일부 쿼리를 놓치고 있을 가능성

- 복잡한 쿼리 구조 파싱 문제
1. 청크 수 (134개)
- 청킹은 정상적으로 작동하고 있음

- 파일당 평균 4.3개 청크 생성

### �� 결론

청킹 기능은 작동하고 있지만, 파싱 정확도에 문제가 있습니다:

- ✅ 청킹 자체: 134개 청크 생성으로 정상 작동

- ❌ Java 파싱: 71개 → 40개 (43% 누락)

- ❌ XML 파싱: 71개 → 30개 (58% 누락)

다음 단계로 파싱 정확도를 개선해야 합니다.
