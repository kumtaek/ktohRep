# Calls 관계 수작업 vs 자동화 분석 비교표

## 개요
**분석 일시**: 2025-01-27  
**분석 대상**: sampleSrc 프로젝트  
**목적**: 수작업 분석 결과와 자동화 분석 결과 비교를 통한 정확도 검증

## 📊 수작업 분석 결과 (기준값)

### 수작업 분석 기본 정보
- **분석 방법**: 파일별 수동 코드 분석
- **분석 범위**: 16개 Java 파일
- **총 관계 수**: 117개
- **calls 관계 수**: 112개 (목표값)

### 수작업 분석 상세 내역
| 관계 유형 | 수작업 분석 | 비고 |
|-----------|-------------|------|
| **calls** | **112개** | **목표값 (기준)** |
| dependency | 5개 | @Autowired 의존성 주입 |
| **총계** | **117개** | **전체 관계** |

## 🔄 자동화 분석 결과 (개선 과정)

### 1단계: 초기 자동화 분석 (개선 전)
| 분석 단계 | calls 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|---------------|-------------|--------|------|
| **수작업 분석** | **112개** | **기준** | **0%** | **목표** |
| 초기 자동화 | 632개 | +520개 | 564% | 과다 집계 |
| 노이즈 제거 v1 | 543개 | +431개 | 485% | 여전히 과다 |
| 노이즈 제거 v2 | 528개 | +416개 | 471% | 개선 중 |
| 노이즈 제거 v3 | 513개 | +401개 | 458% | 지속 개선 |

### 2단계: 중간 개선 단계
| 분석 단계 | calls 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|---------------|-------------|--------|------|
| 노이즈 제거 최종 | 494개 | +382개 | 441% | 개선 지속 |
| 중복 제거 | 386개 | +274개 | 344% | 상당한 개선 |
| 키워드 필터링 | 401개 | +289개 | 358% | 일부 역행 |
| 정교화 분석 | 409개 | +297개 | 365% | 안정화 |

### 3단계: 최종 개선 단계 (현재)
| 분석 단계 | calls 관계 수 | 수작업 대비 | 초과율 | 상태 |
|-----------|---------------|-------------|--------|------|
| **패턴 추론 비활성화** | **417개** | **+305개** | **372%** | **현재 상태** |
| **목표 달성** | **112개** | **0개** | **0%** | **목표** |

## 📈 개선 효과 분석

### 전체 개선 과정 요약
| 구분 | 초기 | 최종 | 개선량 | 개선율 |
|------|------|------|--------|--------|
| **calls 관계 수** | 632개 | 417개 | -215개 | **34% 감소** |
| **수작업 대비 초과율** | 564% | 372% | -192%p | **34%p 개선** |
| **목표 달성도** | 0% | 0% | 0% | **목표 미달성** |

### 주요 개선 사항
1. **패턴 기반 추론 비활성화**: 이름 패턴만으로 관계를 추측하는 로직 제거
2. **중복 제거 로직 강화**: 전역 중복 방지 메커니즘 적용
3. **실제 파일 분석 강화**: 코드 내용 기반 정확한 관계 추출

## 🎯 정확도 분석

### 현재 상태 평가
| 평가 항목 | 현재 값 | 목표 값 | 달성도 | 상태 |
|-----------|---------|---------|--------|------|
| **calls 관계 수** | 417개 | 112개 | 0% | **미달성** |
| **초과율** | 372% | 0% | 0% | **과다 집계** |
| **정확도** | 27% | 100% | 27% | **낮음** |

### 문제점 분석
1. **여전한 과다 집계**: 수작업 대비 372% 초과
2. **목표 미달성**: 112개 목표 대비 417개 (305개 초과)
3. **추가 개선 필요**: 패턴 추론 비활성화만으로는 부족

## 🔍 상세 분석 결과

### 관계 유형별 비교
| 관계 유형 | 수작업 | 자동화 | 차이 | 초과율 |
|-----------|--------|--------|------|--------|
| **calls** | **112개** | **417개** | **+305개** | **372%** |
| dependency | 5개 | 249개 | +244개 | 4,880% |
| imports | - | 221개 | +221개 | - |
| foreign_key | - | 52개 | +52개 | - |
| implements | - | 22개 | +22개 | - |
| **총계** | **117개** | **961개** | **+844개** | **721%** |

### 품질 개선 효과
| 개선 단계 | 노이즈 제거 | 정확도 향상 | 중복 방지 |
|-----------|-------------|-------------|-----------|
| **Java 키워드 필터링** | ✅ | ✅ | ✅ |
| **메서드 호출 패턴 정교화** | ✅ | ✅ | ✅ |
| **중복 관계 방지** | ✅ | ✅ | ✅ |
| **패턴 추론 비활성화** | ✅ | ✅ | ✅ |

## 📋 결론 및 권장사항

### 현재 상태
- **개선 효과**: 34% 감소 (632개 → 417개)
- **목표 달성**: 미달성 (112개 목표 대비 417개)
- **추가 개선 필요**: 여전히 372% 초과

### 권장 개선 방안
1. **더 엄격한 필터링**: getter/setter, 유틸리티 메서드 추가 제거
2. **신뢰도 기반 필터링**: confidence 0.9 이상만 유지
3. **컨텍스트 기반 분석**: 실제 메서드 호출 컨텍스트 고려
4. **수작업 검증**: 417개 중 실제 유효한 관계만 선별

### 최종 목표
- **calls 관계 수**: 112개 (수작업 분석과 일치)
- **초과율**: 0% (완벽한 정확도)
- **정확도**: 100% (수작업 분석 수준)

---

**보고서 생성일시**: 2025-01-27  
**분석 대상**: sampleSrc 프로젝트  
**총 분석 시간**: 0.75초  
**메타DB 크기**: 396.0KB
