# 통합 샘플소스 파일 및 청크 건수 리포트

## 생성 일시
2025-09-05 11:30:00

## 개요
기존 `sampleSrc`와 새로 생성한 샘플을 통합하여 더 포괄적이고 현실적인 파서 검증 샘플을 구성했습니다.

---

## 📊 **통합 샘플 구성 현황**

### **1. 파일 구성**

#### **Java 파일 (7개)**
- `UserController.java` - 정상 케이스 (3개 메소드)
- `UserService.java` - 인터페이스 (6개 메소드)
- `UserServiceImpl.java` - 구현체 (6개 메소드)
- `UserMapper.java` - MyBatis 인터페이스 (7개 메소드)
- `User.java` - 모델 클래스 (11개 필드, 생성자, getter/setter)
- `ErrorController.java` - 오류 케이스 (4개 메소드, 13개 오류)
- `UserTypes.java` - 사용자 유형 모델 (추가 예정)

#### **JSP 파일 (4개)**
- `list.jsp` - 정상 케이스 (8개 JSTL 태그, JavaScript 검증)
- `searchResult.jsp` - 정상 케이스 (6개 JSTL 태그, 테이블 정렬)
- `typeList.jsp` - 정상 케이스 (8개 JSTL 태그, 통계 기능)
- `error.jsp` - 오류 케이스 (9개 오류 패턴)

#### **XML 파일 (1개)**
- `UserMapper.xml` - MyBatis 매퍼 (8개 쿼리, 복잡한 다이나믹 쿼리)

#### **SQL 파일 (2개)**
- `oracle_schema.sql` - 정상 스키마 (15개 DDL + 8개 DML)
- `error_schema.sql` - 오류 케이스 (20개 오류 SQL)

---

## 📈 **청크별 상세 분석**

### **2. Java 청크 분석**

#### **정상 케이스 (5개 클래스)**
| 클래스 | 메소드 수 | 어노테이션 수 | 필드 수 | 총 청크 |
|--------|-----------|---------------|---------|---------|
| UserController | 3 | 6 | 1 | 10 |
| UserService | 6 | 0 | 0 | 6 |
| UserServiceImpl | 6 | 3 | 1 | 10 |
| UserMapper | 7 | 7 | 0 | 14 |
| User | 0 | 0 | 11 | 11 |
| **소계** | **22** | **16** | **13** | **51** |

#### **오류 케이스 (1개 클래스)**
| 클래스 | 메소드 수 | 오류 수 | 총 청크 |
|--------|-----------|---------|---------|
| ErrorController | 4 | 13 | 17 |
| **소계** | **4** | **13** | **17** |

#### **Java 총 청크**: 68개

### **3. JSP 청크 분석**

#### **정상 케이스 (3개 파일)**
| 파일 | JSTL 태그 | HTML 태그 | JavaScript 함수 | CSS 클래스 | 총 청크 |
|------|-----------|-----------|-----------------|------------|---------|
| list.jsp | 8 | 15 | 2 | 4 | 29 |
| searchResult.jsp | 6 | 12 | 1 | 3 | 22 |
| typeList.jsp | 8 | 10 | 2 | 2 | 22 |
| **소계** | **22** | **37** | **5** | **9** | **73** |

#### **오류 케이스 (1개 파일)**
| 파일 | 오류 패턴 | 총 청크 |
|------|-----------|---------|
| error.jsp | 9 | 9 |
| **소계** | **9** | **9** |

#### **JSP 총 청크**: 82개

### **4. SQL 청크 분석**

#### **MyBatis XML 쿼리 (1개 파일)**
| 쿼리 ID | 쿼리 타입 | 다이나믹 요소 | 총 청크 |
|---------|-----------|---------------|---------|
| selectUserById | SELECT | 0 | 1 |
| selectUsersByCondition | SELECT | 3 | 4 |
| selectUsersByAdvancedCondition | SELECT | 6 | 7 |
| selectUsersByType | SELECT | 0 | 1 |
| updateUserDynamic | UPDATE | 7 | 8 |
| insertUserDynamic | INSERT | 9 | 10 |
| deleteUsersByCondition | DELETE | 3 | 4 |
| countUsersByCondition | SELECT | 4 | 5 |
| **소계** | **8** | **32** | **40** |

#### **정상 DB 스키마 (1개 파일)**
| 스키마 요소 | 개수 | 총 청크 |
|-------------|------|---------|
| CREATE TABLE | 2 | 2 |
| CREATE INDEX | 5 | 5 |
| CREATE VIEW | 1 | 1 |
| CREATE PROCEDURE | 1 | 1 |
| CREATE FUNCTION | 1 | 1 |
| CREATE TRIGGER | 1 | 1 |
| INSERT 문 | 8 | 8 |
| **소계** | **19** | **19** |

#### **오류 DB 스키마 (1개 파일)**
| 오류 유형 | 개수 | 총 청크 |
|-----------|------|---------|
| DDL 오류 | 5 | 5 |
| DML 오류 | 5 | 5 |
| 뷰/프로시저/함수 오류 | 5 | 5 |
| 기타 SQL 오류 | 5 | 5 |
| **소계** | **20** | **20** |

#### **SQL 총 청크**: 79개

---

## 🎯 **통합 샘플 총계**

### **5. 전체 청크 통계**

| 구분 | 정상 케이스 | 오류 케이스 | 총계 |
|------|-------------|-------------|------|
| **Java 청크** | 51 | 17 | 68 |
| **JSP 청크** | 73 | 9 | 82 |
| **SQL 청크** | 59 | 20 | 79 |
| **총 청크** | **183** | **46** | **229** |

### **6. 파일별 분포**

| 파일 타입 | 파일 수 | 평균 청크/파일 | 최대 청크/파일 |
|-----------|---------|----------------|----------------|
| Java | 7 | 9.7 | 17 |
| JSP | 4 | 20.5 | 29 |
| XML | 1 | 40.0 | 40 |
| SQL | 2 | 19.5 | 20 |
| **총계** | **14** | **16.4** | **40** |

---

## 🔍 **파서 검증 포인트**

### **7. 검증 대상 요소**

#### **Java 파서 검증**
- ✅ **클래스 인식**: 7개 클래스
- ✅ **메소드 인식**: 26개 메소드
- ✅ **어노테이션 인식**: 16개 어노테이션
- ✅ **필드 인식**: 13개 필드
- ✅ **오류 감지**: 13개 신택스 오류

#### **JSP 파서 검증**
- ✅ **JSTL 태그 인식**: 22개 태그
- ✅ **HTML 태그 인식**: 37개 태그
- ✅ **JavaScript 인식**: 5개 함수
- ✅ **CSS 인식**: 9개 클래스
- ✅ **오류 감지**: 9개 신택스 오류

#### **SQL 파서 검증**
- ✅ **MyBatis 쿼리 인식**: 8개 쿼리
- ✅ **다이나믹 쿼리 인식**: 32개 다이나믹 요소
- ✅ **DDL 인식**: 19개 스키마 요소
- ✅ **DML 인식**: 8개 데이터 조작
- ✅ **오류 감지**: 20개 신택스 오류

---

## 📋 **검증 기준 설정**

### **8. 허용 오차 범위**

| 파서 타입 | 과소추출 | 과다추출 | 파일별 오차 |
|-----------|----------|----------|-------------|
| **Java 파서** | 0% | ≤10% | ≤10% |
| **JSP 파서** | 0% | ≤10% | ≤10% |
| **SQL 파서** | 0% | ≤10% | ≤10% |
| **전체 평균** | 0% | ≤10% | ≤10% |

### **9. 우선순위 검증 항목**

#### **높은 우선순위 (Critical)**
1. **Java 클래스/메소드 인식**: 누락 시 심각한 분석 오류
2. **MyBatis 쿼리 인식**: 비즈니스 로직 분석 핵심
3. **JSTL 태그 인식**: 웹 계층 분석 필수

#### **중간 우선순위 (Important)**
1. **어노테이션 인식**: 프레임워크 특성 파악
2. **다이나믹 쿼리 인식**: 복잡한 쿼리 패턴 분석
3. **오류 감지**: 실제 프로젝트 오류 대응

#### **낮은 우선순위 (Nice to have)**
1. **CSS/JavaScript 인식**: UI 분석 보조
2. **필드 인식**: 모델 구조 분석
3. **HTML 태그 인식**: 레이아웃 분석

---

## 🚀 **다음 단계**

### **10. 검증 실행 계획**

1. **메타DB 재생성**: 통합 샘플로 메타DB 재구축
2. **파서별 검증**: Java, JSP, SQL 파서 개별 검증
3. **오류 감지 테스트**: 신택스 오류 감지 정확도 측정
4. **성능 테스트**: 대용량 샘플 처리 성능 확인
5. **개선 제안**: 검증 결과 기반 파서 개선 방향 제시

### **11. 예상 검증 결과**

- **Java 파서**: 90% 이상 정확도 목표
- **JSP 파서**: 85% 이상 정확도 목표  
- **SQL 파서**: 95% 이상 정확도 목표
- **오류 감지**: 100% 감지율 목표

---

## 📝 **결론**

통합 샘플은 기존 `sampleSrc`의 풍부한 구조와 새로 추가한 오류 케이스를 결합하여 **229개의 청크**를 포함하는 포괄적인 검증 환경을 제공합니다. 이는 실제 프로젝트의 복잡성과 오류 상황을 모두 반영하여 파서의 견고성과 정확성을 종합적으로 검증할 수 있는 완전한 테스트 베드입니다.

