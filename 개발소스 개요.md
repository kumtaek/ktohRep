## 개발소스 개요

이 문서는 프로젝트의 폴더 구조와 주요 소스 파일을 요약한 것입니다.

## 최상위 디렉토리
- `phase1/` – Java/JSP/SQL을 구문 분석하고 메타데이터를 저장하는 1단계 소스 분석기입니다.
- `visualize/` – 메타데이터로부터 다이어그램과 그래프를 생성하기 위한 시각화 유틸리티.
- `web-dashboard/` – Flask 백엔드와 React 프런트엔드로 구성된 웹 대시보드.
- `PROJECT/sampleSrc/` – 분석에 사용되는 샘플 Java/Spring/MyBatis 프로젝트입니다.
 

## 1단계
### 코어 및 모델
- `main.py` – 구성 병합, 파서 설정 및 프로젝트 분석을 조율하는 진입점입니다.
- `core/db_comment_loader.py` – 풍부화를 위해 데이터베이스 주석을 로드합니다.
- `core/parallel_processor.py` – 파일 처리 작업을 병렬화하기 위한 유틸리티.
- `models/database.py` – 메타데이터를 저장하기 위한 데이터베이스 관리자 및 ORM과 유사한 도우미입니다.
 

### 데이터베이스 계층
- `database/metadata_engine.py` – 메타데이터 추출을 조정하고 신뢰도가 낮은 파일에 대한 LLM 지원을 호출합니다.
- `database/metadata_engine_cleanup.py` – 임시 메타데이터 아티팩트를 정리합니다.
- `database/metadata_enhancement_engine.py` – 기존 메타데이터를 강화하기 위한 추가 루틴입니다.
 

### 파서
- `parsers/java_parser.py` – 메서드, 주석 및 관계에 대한 Java 클래스를 구문 분석합니다.
- `parsers/jsp_mybatis_parser.py` – JSP 파일과 MyBatis 매퍼에서 메타데이터를 추출합니다.
- `parsers/sql_parser.py` – SQL 스크립트와 스키마 정의를 분석합니다.
 

### LLM 통합
- `llm/assist.py` – 신뢰도가 낮은 파일에 대한 LLM 기반 강화를 요청하는 고급 도우미입니다.
- `llm/enricher.py` – LLM 클라이언트 상호작용과 프롬프트 처리를 래핑합니다.
- `llm/client.py` – 구성된 LLM 공급자(vLLM, Ollama 등)에 연결합니다.
- `llm/prompt_templates.py` – 요약 및 추론을 위한 프롬프트 템플릿.
 

### 유틸리티
- `utils/logger.py` – 구성 가능한 로깅 설정.
- `utils/csv_loader.py` – CSV 파일을 읽습니다(예: 기준 진실 데이터).
- `utils/confidence_calculator.py` – 구문 분석된 파일에 대한 신뢰도 점수를 계산합니다.
- `utils/confidence_validator.py` – 신뢰도 지표를 검증하고 보정합니다.
- `utils/large_file_processor.py` – 매우 큰 파일의 청킹/스트리밍을 처리합니다.
 

### 도구 및 스크립트
- `scripts/list_start_nodes.py` – 그래프의 시작 노드를 나열하는 도우미 스크립트입니다.
- `scripts/calculate_relatedness.py` – 구성 요소 간의 관련성 측정 항목을 계산합니다.
- `tools/enrich_run.py` – 기존 메타데이터에 대한 LLM 강화를 실행합니다.
- `tools/metrics.py` – 평가 지표 유틸리티.
- `tools/seed_jsp_files.py` – 테스트를 위한 Seeds 샘플 JSP 파일입니다.
- `security/vulnerability_detector.py` – 잠재적인 보안 문제에 대한 메타데이터를 스캔합니다.
 

## 시각화하다
- `cli.py` – 다이어그램을 생성하기 위한 명령줄 인터페이스.
- `data_access.py` – 시각화를 위해 메타데이터를 읽습니다.
- `schema.py` – 시각화 입력을 설명하는 Pydantic 모델입니다.
- `clustering.py` – 그래프 레이아웃에 대한 관련 노드를 그룹화합니다.
- `__main__.py` – 모듈로 실행하기 위한 진입점.
- `builders/` – 다이어그램 빌더: `erd.py` , `class_diagram.py` , `component_diagram.py` , `relatedness_graph.py` , `sequence_diagram.py` , `dependency_graph.py` .
- `templates/` – 렌더링 도우미 및 템플릿 로더.
- `exporters/mermaid_exporter.py` – 다이어그램을 Mermaid 구문으로 내보냅니다.
 

## 웹 대시보드
### 백엔드
- `backend/app.py` – 메타데이터를 노출하고 프런트엔드를 제공하는 Flask 기반 REST API입니다.
 

### 프런트엔드(`frontend/src`)
- `App.tsx` – 경로와 레이아웃을 구성하는 루트 React 구성 요소입니다.
- `pages/` – `Dashboard.tsx` , `ProjectDetails.tsx` , `ConfidenceValidation.tsx` , `GroundTruthManagement.tsx` , `Settings.tsx` 와 같은 기능 페이지 .
- `components/` – `Layout` , `LoadingSpinner` , `ErrorMessage` , `OwaspA03Doc` 와 같은 재사용 가능한 UI 부분 .
- `services/api.ts` – 백엔드 API 호출을 위한 Axios 래퍼.
- `main.tsx` – 애플리케이션 부트스트랩; React를 DOM에 연결합니다.
- `index.css` – 글로벌 스타일.
 

## 프로젝트/샘플소스
### DB_ 스키마
- `ALL_ TABLES.csv`, `ALL _TAB_ COLUMNS.csv`, `PK _INFO.csv` – 샘플 데이터베이스 스키마 메타데이터.

### 자바 소스
- `integrated/IntegratedService.java` – 서비스 로직과 메서드 호출 체인을 보여줍니다.
- `integrated/IntegratedMapper.java` – 복잡한 쿼리를 위한 MyBatis 매퍼 인터페이스.
- `integrated/VulnerabilityTestService.java` – 테스트를 위한 일반적인 보안 취약점을 포함하는 예제 메서드입니다.
- `util/Texts.java` – 텍스트 처리를 위한 유틸리티 메서드.
- `service` 패키지 – 비즈니스 서비스(`UserService`, `OrderService`, `ProductService`, `ListService`, `OverloadService`) 및 구현 클래스.
- `mapper` 패키지 – MyBatis 매퍼(`UserMapper`, `OrderMapper`, `ProductMapper`).

### 웹 리소스
- `webapp/WEB-INF/jsp/IntegratedView.jsp` – 통합 서비스 결과에 액세스하는 샘플 JSP 뷰.

## 스크립트 실행
- `run_analyzer.bat` / `.sh` – 프로젝트에 대한 Phase1 분석기를 실행합니다.
- `run_visualize.bat` / `run_relationships.bat` – 다이어그램이나 결합된 관계 뷰를 생성합니다.
- `run_visualize_relatedness_example.bat` – 관련성 시각화를 위한 예제 스크립트.
- `run_auto_sequence.bat` – 자동으로 시작점을 찾아 시퀀스 다이어그램을 생성합니다.
- `run_llm_analysis.bat` – LLM 기반 코드 요약 및 테이블/컬럼 주석을 생성합니다.
- `run_summarize.bat` – LLM 요약 생성 스크립트입니다.
- `run_analyze_joins.bat` – 조인 관계 분석 스크립트입니다.
 