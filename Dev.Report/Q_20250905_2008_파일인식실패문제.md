# Q_20250905_2008_파일인식실패문제.md

## 질문 개요

메타디비 생성 후 명세서와 비교한 결과, **Java, XML, CSV 파일이 전혀 인식되지 않는 심각한 문제**가 발견되었습니다.

## 전후 배경

### 1. 작업 수행 과정
1. `./project/sampleSrc` 소스를 분석하여 메타디비 생성
2. `샘플소스명세서_20250905_175951_*.md`와 메타디비 내용 비교
3. 차이점 분석 및 원인 파악

### 2. 비교 결과 요약
| 항목 | 메타디비 | 명세서 | 차이 | 상태 |
|------|----------|--------|------|------|
| JAVA_파일 | 0개 | 16개 | -16개 | **과소** |
| XML_파일 | 0개 | 4개 | -4개 | **과소** |
| CSV_파일 | 0개 | 4개 | -4개 | **과소** |
| METHODS | 43개 | 77개 | -34개 | **과소** |
| ERRORS | 0개 | 7개 | -7개 | **과소** |

## 문제점 상세 분석

### 1. Java 파일 인식 실패 (0/16개)
**사례**: `project/sampleSrc/src/main/java/com/example/controller/ErrorController.java`

**문제 설명**:
- 실제 파일 시스템에는 16개의 Java 파일이 존재
- 메타디비에는 Java 파일이 0개 저장됨
- 이는 Java 파서가 파일을 전혀 인식하지 못했다는 의미

**원인 추정**:
- Java 파서 초기화 실패
- 파일 스캔 로직에서 Java 파일 제외
- 파싱 과정에서 오류 발생하여 파일 저장 실패

### 2. XML 파일 인식 실패 (0/4개)
**사례**: `project/sampleSrc/src/main/resources/mybatis/mapper/UserMapper.xml`

**문제 설명**:
- 실제 파일 시스템에는 4개의 XML 파일이 존재
- 메타디비에는 XML 파일이 0개 저장됨
- MyBatis 매퍼 파일들이 전혀 인식되지 않음

**원인 추정**:
- XML 파서가 MyBatis 매퍼 파일을 인식하지 못함
- 파일 확장자 필터링 문제
- XML 파싱 로직 오류

### 3. CSV 파일 인식 실패 (0/4개)
**사례**: `project/sampleSrc/db_schema/ALL_TABLES.csv`

**문제 설명**:
- 실제 파일 시스템에는 4개의 CSV 파일이 존재
- 메타디비에는 CSV 파일이 0개 저장됨
- DB 스키마 정보 파일들이 전혀 인식되지 않음

**원인 추정**:
- CSV 파일 파서가 구현되지 않음
- 파일 스캔에서 CSV 확장자 제외
- DB 스키마 로딩 로직과 연동되지 않음

### 4. 메서드 추출 부족 (43/77개)
**문제 설명**:
- Java 파일이 인식되지 않아 메서드 추출도 부족
- 명세서 대비 44.2% 과소 추출

### 5. 에러 감지 실패 (0/7개)
**문제 설명**:
- 파싱 과정에서 발생한 에러가 전혀 감지되지 않음
- 에러 로깅 및 추적 기능이 작동하지 않음

## 핵심 문제점

1. **파일 스캔 로직 결함**: Java, XML, CSV 파일이 파일 스캔 단계에서 제외됨
2. **파서 초기화 실패**: 각 언어별 파서가 제대로 초기화되지 않음
3. **에러 처리 부재**: 파싱 실패 시 에러가 조용히 무시됨
4. **파일 확장자 매핑 오류**: 언어별 파일 확장자 매핑이 잘못됨

## 개선 방안 질문

다음 사항들에 대한 개선 방안을 제시해 주세요:

1. **Java 파일 인식 문제**: Java 파서가 파일을 인식하지 못하는 근본 원인과 해결책
2. **XML 파일 인식 문제**: MyBatis 매퍼 파일 인식을 위한 XML 파서 개선 방안
3. **CSV 파일 처리**: DB 스키마 CSV 파일을 메타디비에 로드하는 방법
4. **에러 감지 강화**: 파싱 실패 시 에러를 명확히 감지하고 로깅하는 방법
5. **파일 스캔 로직 개선**: 모든 파일 타입을 정확히 인식하는 스캔 로직 개선 방안

## 우선순위

1. **최우선**: Java 파일 인식 문제 해결 (가장 많은 파일 수)
2. **높음**: XML 파일 인식 문제 해결 (MyBatis 연동 필수)
3. **중간**: CSV 파일 처리 구현 (DB 스키마 정보)
4. **낮음**: 에러 감지 강화 (디버깅 지원)

---

**생성일시**: 2025-09-05 20:08:00  
**분석자**: SourceAnalyzer  
**프로젝트**: sampleSrc


